<html>
<head>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
</head>
<body>
	<div>
	<button style="width:50%; box-sizing: border-box; float:right" onclick="enc();return -1;">encrypt</button>
	<button style="width:50%; box-sizing: border-box; " onclick="dec();return -1;">decrypt</button>
	</div>
	<textarea  style="width:100%;height:40%"  id="in"></textarea >
	<br>


	<script>
		var key="srcs";
		const iv = CryptoJS.lib.WordArray.random(16);

		function dec(){
			var encrypted = document.getElementById("in").value;
			var bytes = CryptoJS.AES.decrypt( encrypted,  key,  { iv:iv});
			var text = bytes.toString(CryptoJS.enc.Utf8);
			document.getElementById("in").value =text;
		}

		function enc(){
			var decrypted = document.getElementById("in").value;
			var encrypted = CryptoJS.AES.encrypt(decrypted, key , {iv:iv});
			var text=  encrypted.toString() //CryptoJS.enc.Hex.stringify(encrypted.ciphertext); //encrypted.toString(CryptoJS.enc.Utf8)
			document.getElementById("in").value = text;
		}
		
	</script>
</body>
</html>	
